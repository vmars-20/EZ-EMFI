# Quick Start: volo_lut_pkg

**Goal**: Add 0-100 indexed LUT infrastructure to your project

## In 5 Minutes

### 1. Run Tests (Verify Everything Works)
```bash
cd /Users/vmars20/EZ-EMFI/tests
uv run python run.py volo_lut_pkg  # P1: 4 tests, ~3s
TEST_LEVEL=P2_INTERMEDIATE uv run python run.py volo_lut_pkg  # P2: 8 tests, ~10s
```

**Expected**: ALL PASS ✅

### 2. Use in Your VHDL

```vhdl
use work.volo_lut_pkg.all;

-- Option A: Simple linear (use Moku_Pct_pkg instead - zero overhead)
signal intensity : natural := 50;  -- 50%
output <= pct_3v3_to_digital(intensity);  -- From Moku_Pct_pkg

-- Option B: Non-linear LUT (gamma curve, calibration, etc.)
constant MY_GAMMA_CURVE : lut_101x16_t := (
    x"0000", x"0001", x"0004", ...  -- Generated by Python
);
signal brightness : natural := 50;
output <= lut_lookup(MY_GAMMA_CURVE, brightness);
```

### 3. Generate LUT Data (Python)

```python
#!/usr/bin/env python3
import numpy as np

# Gamma correction example
indices = np.arange(101)
gamma_values = np.power(indices / 100.0, 2.2) * 0xFFFF

for i, val in enumerate(gamma_values):
    print(f'x"{int(val):04X}"', end=", " if i < 100 else "\n")
```

## Key Files

| File | Purpose |
|------|---------|
| `VHDL/packages/volo_lut_pkg.vhd` | Package implementation |
| `VOLO_LUT_PKG_DESIGN.md` | Detailed design doc |
| `PACKAGE_INTEGRATION_GUIDE.md` | Usage examples |
| `VOLO_LUT_PKG_TESTING.md` | Test documentation |
| `docs/VHDL_COCOTB_LESSONS_LEARNED.md` | Debugging tips |

## Decision Tree

```
Need percentage control?
├─ Linear mapping? → Use Moku_Pct_pkg (zero overhead)
├─ Simple formula? → Custom function (e.g., x^2)
└─ Complex curve? → Use volo_lut_pkg (this package)
```

## Next Steps

1. **Tests pass?** → Ready to use!
2. **Need migration?** → See `MIGRATION_PLAN.md`
3. **Need examples?** → See `PACKAGE_INTEGRATION_GUIDE.md`

---
**Status**: Production ready ✅ (ALL 8 P2 TESTS PASSING)
